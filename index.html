<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√¨ X√¨ May M·∫Øn 2026</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #990000; /* ƒê·ªè ƒë·∫≠m cho n√≥ t·∫øt */
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #ffff00; /* Ch·ªØ v√†ng */
            text-align: center;
            user-select: none; /* Ch·ªëng b√¥i ƒëen */
        }

        #game-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* ·∫¢nh bao l√¨ x√¨ (Link online) */
        #envelope-img {
            width: 220px;
            cursor: pointer;
            transition: transform 0.2s;
            /* ·∫¢nh bao l√¨ x√¨ t·ª´ Flaticon */
            content: url("https://cdn-icons-png.flaticon.com/512/6454/6454084.png"); 
            filter: drop-shadow(0 0 10px rgba(255, 255, 0, 0.5));
        }
        
        #envelope-img:active {
            transform: scale(0.9);
        }

        /* T·ªù 500k (Link online) */
        #money-500k {
            position: absolute;
            top: 50px;
            left: -300px; /* Gi·∫•u ·ªü b√™n tr√°i */
            width: 180px;
            transition: left 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Hi·ªáu ·ª©ng tr∆∞·ª£t m∆∞·ª£t */
            z-index: 10;
            /* ·∫¢nh t·ªù 500k minh h·ªça */
            content: url("https://upload.wikimedia.org/wikipedia/vi/1/1d/500000_dong_VN_mat_sau.jpg");
            transform: rotate(-15deg);
            border: 2px solid white;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
        }

        /* Ch·ªØ th√¥ng b√°o */
        .message {
            font-size: 22px;
            margin-top: 25px;
            font-weight: bold;
            text-shadow: 2px 2px 0px #000;
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 10px;
        }

        /* Ph·∫ßn nh·∫≠p ti·ªÅn */
        #guess-section {
            display: none;
            flex-direction: column;
            gap: 15px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(5px);
        }

        input {
            padding: 12px;
            font-size: 18px;
            border-radius: 8px;
            border: none;
            text-align: center;
            outline: none;
        }

        button {
            padding: 12px 25px;
            background-color: #ffcc00;
            color: #d80000;
            border: none;
            border-radius: 8px;
            font-weight: 900;
            font-size: 16px;
            cursor: pointer;
            text-transform: uppercase;
        }

        button:hover {
            background-color: #fff;
        }

        /* M√†n h√¨nh Jeff (Jumpscare) */
        #scare-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: black;
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        #jeff-img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ph·ªß k√≠n m√†n h√¨nh */
            /* Link ·∫£nh Jeff (Wiki) */
            content: url("https://static.wikia.nocookie.net/villains/images/3/33/Jeff_the_Killer_Scream.jpg");
        }
    </style>
</head>
<body>

    <audio id="scream-sound" preload="auto">
        <source src="https://www.myinstants.com/media/sounds/golden-freddy-scream_1.mp3" type="audio/mpeg">
    </audio>

    <div id="game-container">
        <img id="money-500k" alt="500k">

        <div id="step-1">
            <img id="envelope-img" alt="L√¨ x√¨" onclick="handleEnvelopeClick()">
            <p class="message" id="msg-text">üßß Vu·ªët l√™n ƒë·ªÉ nh·∫≠n L√¨ X√¨!</p>
        </div>

        <div id="guess-section">
            <p class="message">B·∫°n ƒëo√°n b√™n trong c√≥ bao nhi√™u?</p>
            <input type="number" id="user-guess" placeholder="Nh·∫≠p s·ªë ti·ªÅn...">
            <button onclick="submitGuess()">X√°c Nh·∫≠n</button>
        </div>
    </div>

    <div id="scare-screen">
        <img id="jeff-img" alt="RUN!">
    </div>

    <script>
        let step = 1;
        let clickCount = 0;
        const envelope = document.getElementById('envelope-img');
        const msgText = document.getElementById('msg-text');
        const guessSection = document.getElementById('guess-section');
        const money500k = document.getElementById('money-500k');
        const screamSound = document.getElementById('scream-sound');
        const scareScreen = document.getElementById('scare-screen');
        const step1Div = document.getElementById('step-1');

        function handleEnvelopeClick() {
            if (step === 1) {
                // Gi·∫£ v·ªù chuy·ªÉn sang b∆∞·ªõc nh·∫≠p ti·ªÅn
                step1Div.style.display = 'none';
                guessSection.style.display = 'flex';
                step = 2;
            } else if (step === 3) {
                // ƒê·∫øm s·ªë l·∫ßn b·∫•m
                clickCount++;
                
                // Hi·ªáu ·ª©ng rung b·∫ßn b·∫≠t
                envelope.style.transform = `rotate(${Math.random() * 20 - 10}deg) scale(0.9)`;
                setTimeout(() => envelope.style.transform = 'rotate(0deg) scale(1)', 50);

                // ƒê·ªïi m√†u ch·ªØ c·∫£nh b√°o d·∫ßn
                if(clickCount === 3) msgText.style.color = "orange";
                if(clickCount === 4) msgText.style.color = "red";

                if (clickCount >= 5) {
                    triggerJumpscare();
                }
            }
        }

        function submitGuess() {
            const guess = document.getElementById('user-guess').value;
            if (!guess) {
                alert("ƒêo√°n ƒëi bro, ng·∫°i g√¨!");
                return;
            }

            // Chuy·ªÉn sang b∆∞·ªõc b·∫•m 5 l·∫ßn
            guessSection.style.display = 'none';
            step1Div.style.display = 'block';
            step = 3;

            // Hi·ªán t·ªù 500k tr∆∞·ª£t ra t·ª´ g√≥c tr√°i
            money500k.style.left = '20px'; 
            
            // ƒê·ªïi text d·ª• d·ªó
            msgText.innerHTML = "‚ö†Ô∏è K·∫πt ti·ªÅn r·ªìi! <br> Nh·∫•p m·∫°nh 5 l·∫ßn v√†o bao ƒë·ªÉ r√∫t ti·ªÅn ra!";
        }

        function triggerJumpscare() {
            // V√†o ch·∫ø ƒë·ªô to√†n m√†n h√¨nh cho s·ª£ (n·∫øu tr√¨nh duy·ªát cho ph√©p)
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen().catch(() => {});
            }

            // 1. T·∫Øt h·∫øt giao di·ªán game
            document.getElementById('game-container').style.display = 'none';
            document.body.style.cursor = 'none'; // Gi·∫•u chu·ªôt ƒëi

            // 2. Ch·ªù t√≠ch t·∫Øc cho n·∫°n nh√¢n ng∆° ng√°c
            setTimeout(() => {
                scareScreen.style.display = 'flex'; // Hi·ªán Jeff
                screamSound.volume = 1.0; // Max volume
                screamSound.play().catch(e => console.log("C·∫ßn t∆∞∆°ng t√°c ƒë·ªÉ ph√°t nh·∫°c")); 
                
                // Rung m√†n h√¨nh c·ª±c m·∫°nh
                let shakeInterval = setInterval(() => {
                    let x = Math.random() * 40 - 20;
                    let y = Math.random() * 40 - 20;
                    scareScreen.style.transform = `translate(${x}px, ${y}px) scale(1.1)`; // Zoom nh·∫π cho s·ª£
                }, 30);
            }, 300);
        }
    </script>
</body>
</html>

